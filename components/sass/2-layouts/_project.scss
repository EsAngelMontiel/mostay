@use '../1-base/mixins' as m;

// Asegurar que no haya scroll horizontal en ningún breakpoint
html, body {
  overflow-x: hidden;
  max-width: 100%;
  box-sizing: border-box;
  
  @include m.breakpoint(lg) {
    overflow-x: hidden;
    max-width: 100%;
  }
  
  @include m.breakpoint(md) {
    overflow-x: hidden;
    max-width: 100%;
  }
  
  @include m.breakpoint(sm) {
    overflow-x: hidden;
    max-width: 100%;
  }
}

.project {
  .cover {
    position: relative;
    height: 70vh; width: 100% ;
    @include m.flex(column, center, center, nowrap);
    background-color: var(--color-backgrounds) ;
    > div {
      width: calc(100% - calc(var(--spacing-lg)*2)) ;
      height: 100% ;  
      position: relative ;
      overflow: hidden;
      background-color: gray ;
      border-radius: var(--radius-md);
      img {
        width: 100% ; height: 100% ;
        position: absolute;
        top: 0;
        left: 0;
        object-fit: cover;
        z-index: 1;
      }
      @include m.breakpoint(lg) {
        width: calc(100% - calc(var(--spacing-md)*2)) ;
      }
      @include m.breakpoint(md) {
        width: calc(100% - calc(var(--spacing-sm)*2)) ;
      }
    }
    @include m.breakpoint(lg) {
      height: 60vh;
    }
    @include m.breakpoint(md) {
      height: 50vh;
    }
  }

  .contenido {
    display: grid;
    grid-template-columns: 60% 40%; 
    gap: calc(var(--spacing-lg)*2); 
    grid-template-columns: repeat(2, 1fr); 
    p {
      color: var(--green);
      padding-right: 2rem ;
    }
    h2 {
      margin-bottom: 3rem ;
    }
    strong {
      font-weight: 600 ;
    }
    .datos {
      @include m.flex(row, flex-start, flex-start, nowrap, var(--spacing-sm));
      > div {
        background-color: var(--white);
        margin-right: 0 ;
        padding: var(--spacing-md);
        border-radius: 0 0 var(--radius-md) var(--radius-md);
        box-shadow: 0 3px 6px var(--color-shadow);
        > h4 {
          font-size: .8rem ;
          margin-bottom: .2rem ;
        }
        > a, p {
          font-family: var(--main-font);
          font-size: 1.1rem ;
          line-height: 1.1rem ;
          color: var(--darkgray);
          font-weight: 500 ;
          padding: 0 ;
        }
        &:first-child {
          border-radius: var(--radius-md) 0 var(--radius-md) var(--radius-md) ;
        }
        &:last-child {
          border-radius: 0 var(--radius-md) var(--radius-md) var(--radius-md) ;
        }
      }
    }
    &:first-child > div {
      padding-top: var(--pading-top-lg) ;
      h1 {
        width: 100% !important ;
      }
    }
    &:last-child > div {
      padding-top: var(--spacing-md);
      padding-bottom: var(--pading-top-lg) ;
    }
    .right-column {
      p {
        margin-bottom: 1.5rem ;
      }
    }
    @include m.breakpoint(lg) {
      //grid-template-columns: repeat(1, 1fr);
      gap: var(--spacing-md); 
      grid-template-columns: 55% 45%; 
      padding: var(--spacing-sm) ;
      .left-column, .right-column {
        padding: 0 ;
      }
      .datos {
        @include m.flex(row, flex-start, flex-start, nowrap, var(--spacing-sm));
        > div {
          margin-right: calc(var(--spacing-sm)/4);
          padding: var(--spacing-sm);
          border-radius: var(--radius-sm);
          > h4 {
            font-size: .6rem ;
            margin-bottom: .1rem ;
          }
          > a {
            font-size: .9rem ;
          }
        }
      }
    }
    @include m.breakpoint(md) {
      grid-template-columns: repeat(1, 1fr);
      gap: var(--spacing-sm); 
      padding: 0 2rem ;
      &:last-child > div {
        padding-bottom: 1rem ;
      }
      &:last-child > div:last-child {
        padding-bottom: 3rem ;
      }
      .left-column, .right-column {
        padding: 0 ;
      }
      h2 {
        margin-bottom: 1rem ;
      }
      .datos {
        @include m.flex(row, flex-start, flex-start, nowrap, calc(var(--spacing-sm)/2));
      }
    }
  }
  .galeria {
    background-color: var(--white);
    padding: var(--spacing-lg) ;
    .mCol-1 {
      width: 100%;
      margin-bottom: var(--spacing-md);
      border-radius: var(--radius-md);
      overflow: hidden ;
      img {
        width: 100% ; height: auto ;
        display: block ;
        object-fit: cover;
      }
    }
          .mText {
        padding: 4rem 0 4rem !important ;
        &.mText-right {
          padding-right: 15% !important;
        }
        &.mText-left {
          padding: 4rem 2rem 4rem 15% !important;
          h3 {
            font-weight: 2rem !important ;
          }
        }
      }
    .media {
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-md);
      overflow: hidden ;
    }
    /*@include m.breakpoint(lg) {
      display: none ;
    }*/
    @include m.breakpoint(lg) {
      padding: var(--spacing-md) ;
    }
    @include m.breakpoint(md) {
      padding: var(--spacing-sm) ;
    }
      .wp-block-columns {
    display: flex;
    flex-wrap: wrap; 
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md); 
    border-radius: var(--radius-md);
    overflow: hidden;
    // Asegurar que no haya desbordamiento horizontal
    max-width: 100%;
    box-sizing: border-box;
    
    @include m.breakpoint(lg) {
      // Reducir espaciado en pantallas medianas
      gap: calc(var(--spacing-md) / 2);
      margin-bottom: calc(var(--spacing-md) / 2);
      // Asegurar que no se salgan del viewport
      max-width: 100%;
      overflow-x: hidden;
      padding: 0 calc(var(--spacing-md) / 2);
    }
    
    @include m.breakpoint(md) {
      border-radius: 0 ;
      max-width: 100%;
      overflow-x: hidden;
      padding: 0 var(--spacing-sm);
      .wp-block-column {
        &.mCol-2 {
          figure {
            border-radius: var(--radius-md);
            overflow: hidden ;
          }
        }
      }
    }
    
    @include m.breakpoint(sm) {
      max-width: 100%;
      overflow-x: hidden;
      padding: 0 var(--spacing-sm);
    }
      .wp-block-column {
        flex-grow: 1; 
        flex-basis: auto; 
        
        // Asegurar que no se desborde en ningún breakpoint
        @include m.breakpoint(lg) {
          max-width: 100%;
          overflow: hidden;
        }
        
        @include m.breakpoint(md) {
          max-width: 100%;
          overflow: hidden;
        }
        
        @include m.breakpoint(sm) {
          max-width: 100%;
          overflow: hidden;
        }
        
        // Estilos base para todas las columnas
        figure {
          width: 100% !important;
          height: 100% !important;
          overflow: hidden;
          border-radius: var(--radius-md);
          margin: 0 !important;
          padding: 0 !important;
          
          > img,
          > video {
            width: 100% !important;
            height: 100% !important;
            display: block;
            object-fit: cover;
            max-width: 100% !important;
            min-width: 100% !important;
            max-height: 100% !important;
            min-height: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
          }
          
          > figcaption {
            padding: var(--spacing-sm);
            font-size: 0.875rem;
            color: var(--darkgray);
            text-align: center;
          }
        }
        
        // Estilos específicos para videos
        video,
        .wp-block-video {
          width: 100% !important;
          height: 100% !important;
          max-width: 100% !important;
          min-width: 100% !important;
          max-height: 100% !important;
          min-height: 100% !important;
          display: block !important;
          margin: 0 !important;
          padding: 0 !important;
          border: none !important;
          object-fit: cover;
        }
        
        // Estilos para videos embebidos
        .wp-block-embed {
          width: 100% !important;
          height: 100% !important;
          margin: 0 !important;
          padding: 0 !important;
          
          .wp-block-embed__wrapper {
            position: relative;
            width: 100% !important;
            height: 100% !important;
            padding: 0 !important;
            border-radius: var(--radius-md);
            overflow: hidden;
            
            iframe,
            video {
              position: absolute;
              top: 0;
              left: 0;
              width: 100% !important;
              height: 100% !important;
              border: none !important;
              margin: 0 !important;
              padding: 0 !important;
            }
          }
        }
        
        // Estilos específicos para clases de texto con mayor especificidad
        &.mText {
          padding: 4rem 0 4rem !important;
          
          &.mText-right {
            padding-right: 15% !important;
          }
          
          &.mText-left {
            padding: 4rem 2rem 4rem 15% !important;
            
            h3 {
              font-weight: 2rem !important;
            }
          }
        }
      }
      
      // Clases aplicadas al contenedor de columnas (no a las columnas individuales)
              &.mCol-2 {
          .wp-block-column {
            width: calc(50% - (var(--spacing-md) / 2)) !important; 
            margin-bottom: var(--spacing-md);
            padding: 0 !important;
            border-radius: 0; // Reset border-radius
            
            // Asegurar que las imágenes y videos ocupen todo el espacio
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              width: 100% !important;
              height: 100% !important;
              margin: 0 !important;
              padding: 0 !important;
              border: none !important;
              border-radius: 0; // Reset border-radius
            }
            
            // Solo esquinas exteriores redondeadas
            &:first-child {
              border-radius: var(--radius-md) 0 0 var(--radius-md);
              
              figure,
              video,
              .wp-block-video,
              .wp-block-embed {
                border-radius: var(--radius-md) 0 0 var(--radius-md);
              }
            }
            
            &:last-child {
              border-radius: 0 var(--radius-md) var(--radius-md) 0;
              
              figure,
              video,
              .wp-block-video,
              .wp-block-embed {
                border-radius: 0 var(--radius-md) var(--radius-md) 0;
              }
            }
            
            // Estilos específicos para clases de texto dentro de mCol-2
            &.mText {
              padding: 4rem 0 4rem !important;
              
              &.mText-right {
                padding-right: 15% !important;
              }
              
              &.mText-left {
                padding: 4rem 2rem 4rem 15% !important;
                
                h3 {
                  font-weight: 2rem !important;
                }
              }
            }
            
            @include m.breakpoint(lg) {
              // Ajustar espaciado en pantallas medianas
              width: calc(50% - (var(--spacing-md) / 4)) !important;
              margin-bottom: calc(var(--spacing-md) / 2);
            }
            
            @include m.breakpoint(lg) {
              // Ajustar espaciado en pantallas medianas
              width: calc(33.33% - (var(--spacing-md) / 6)) !important;
              margin-bottom: calc(var(--spacing-md) / 2);
            }
            
            @include m.breakpoint(md) {
              width: calc(100% - var(--spacing-md)) !important;
              border-radius: var(--radius-md); // En móvil todas las esquinas redondeadas
              
              figure,
              video,
              .wp-block-video,
              .wp-block-embed {
                border-radius: var(--radius-md);
              }
            }
          }
        }

      &.mCol-3 {
        .wp-block-column {
          width: calc(33.33% - ((var(--spacing-md) / 3) * 2)) !important; 
          margin-bottom: var(--spacing-md);
          border-radius: 0; // Reset border-radius
          overflow: hidden;
          padding: 0 !important;
          
          // Asegurar que las imágenes y videos ocupen todo el espacio
          figure,
          video,
          .wp-block-video,
          .wp-block-embed {
            width: 100% !important;
            height: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
            border-radius: 0; // Reset border-radius
          }
          
          // Solo esquinas exteriores redondeadas
          &:first-child {
            border-radius: var(--radius-md) 0 0 var(--radius-md);
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: var(--radius-md) 0 0 var(--radius-md);
            }
          }
          
          &:last-child {
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: 0 var(--radius-md) var(--radius-md) 0;
            }
          }
          
          // Estilos específicos para clases de texto dentro de mCol-3
          &.mText {
            padding: 4rem 0 4rem !important;
            
            &.mText-right {
              padding-right: 15% !important;
            }
            
            &.mText-left {
              padding: 4rem 2rem 4rem 15% !important;
              
              h3 {
                font-weight: 2rem !important;
              }
            }
          }
          
          @include m.breakpoint(md) {
            width: calc(100% - var(--spacing-md)) !important;
            border-radius: var(--radius-md); // En móvil todas las esquinas redondeadas
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: var(--radius-md);
            }
          }
        }
      }
      
      &.mCol-3B {
        // Asegurar que el contenedor tenga el espaciado correcto
        gap: var(--spacing-md);
        
        .wp-block-column {
          &:nth-child(1),
          &:nth-child(2) {
            width: calc(25% - (var(--spacing-md) / 4)) !important;
            //margin-bottom: var(--spacing-md);
            border-radius: 0; // Reset border-radius
            overflow: hidden;
            margin-right: calc(var(--spacing-md) / 2) !important;
            padding: 0 !important;
            
            // Asegurar que las imágenes y videos ocupen todo el espacio
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              width: 100% !important;
              height: 100% !important;
              margin: 0 !important;
              padding: 0 !important;
              border: none !important;
              border-radius: 0; // Reset border-radius
            }
          }
          
          &:nth-child(3) {
            width: calc(50% - (var(--spacing-md) / 2)) !important;
            margin-bottom: var(--spacing-md);
            border-radius: 0; // Reset border-radius
            overflow: hidden;
            margin-left: 0 !important;
            padding: 0 !important;
            
            // Asegurar que las imágenes y videos ocupen todo el espacio
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              width: 100% !important;
              height: 100% !important;
              margin: 0 !important;
              padding: 0 !important;
              border: none !important;
              border-radius: 0; // Reset border-radius
            }
          }
          
          // Solo esquinas exteriores redondeadas
          &:first-child {
            border-radius: var(--radius-md) 0 0 var(--radius-md);
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: var(--radius-md) 0 0 var(--radius-md);
            }
          }
          
          &:last-child {
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: 0 var(--radius-md) var(--radius-md) 0;
            }
          }
        }
        
        @include m.breakpoint(lg) {
          // Reducir el espaciado en pantallas medianas
          gap: calc(var(--spacing-md) / 2);
          
          .wp-block-column {
            &:nth-child(1),
            &:nth-child(2) {
              width: calc(50% - (var(--spacing-md) / 4)) !important;
              margin-right: calc(var(--spacing-md) / 4) !important;
            }
            
            &:nth-child(3) {
              width: calc(100% - var(--spacing-md) / 2) !important;
              margin-left: 0 !important;
            }
          }
        }
        
        @include m.breakpoint(md) {
          .wp-block-column {
            width: calc(100% - var(--spacing-md)) !important;
            margin-right: 0 !important;
            margin-left: 0 !important;
          }
        }
        
        // Estilos específicos para clases de texto dentro de mCol-3B
        .wp-block-column {
          &.mText {
            padding: 4rem 0 4rem !important;
            
            &.mText-right {
              padding-right: 15% !important;
            }
            
            &.mText-left {
              padding: 4rem 2rem 4rem 15% !important;
              
              h3 {
                font-weight: 2rem !important;
              }
            }
          }
        }
      }
      
      &.mCol-4 {
        .wp-block-column {
          width: calc(25% - (var(--spacing-md) / 4)) !important; 
          //margin-bottom: var(--spacing-md);
          border-radius: 0; // Reset border-radius
          overflow: hidden;
          //margin-right: calc(var(--spacing-md) / 2) !important;
          padding: 0 !important;
          
          // Asegurar que las imágenes y videos ocupen todo el espacio
          figure,
          video,
          .wp-block-video,
          .wp-block-embed {
            width: 100% !important;
            height: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
            border-radius: 0; // Reset border-radius
          }
          
          // Solo esquinas exteriores redondeadas
          &:first-child {
            border-radius: var(--radius-md) 0 0 var(--radius-md);
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: var(--radius-md) 0 0 var(--radius-md);
            }
          }
          
          &:last-child {
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: 0 var(--radius-md) var(--radius-md) 0;
            }
          }
          
          &:last-child {
            margin-right: 0 !important;
          }
          
          @include m.breakpoint(lg) {
            // Ajustar espaciado en pantallas medianas
            width: calc(25% - (var(--spacing-md) / 8)) !important;
            margin-right: calc(var(--spacing-md) / 4) !important;
            margin-bottom: calc(var(--spacing-md) / 2);
          }
          
          @include m.breakpoint(md) {
            width: calc(50% - (var(--spacing-md) / 2)) !important;
            margin-right: calc(var(--spacing-md) / 2) !important;
            border-radius: var(--radius-md); // En móvil todas las esquinas redondeadas
            
            figure,
            video,
            .wp-block-video,
            .wp-block-embed {
              border-radius: var(--radius-md);
            }
            
            &:nth-child(2n) {
              margin-right: 0 !important;
            }
          }
          
          // Estilos específicos para clases de texto dentro de mCol-4
          &.mText {
            padding: 4rem 0 4rem !important;
            
            &.mText-right {
              padding-right: 15% !important;
            }
            
            &.mText-left {
              padding: 4rem 2rem 4rem 15% !important;
              
              h3 {
                font-weight: 2rem !important;
              }
            }
          }
        }
      }
      
    }
  }
  > div.btn-container {
    padding: 2.5rem 0 3.125rem 0 ;
  }
  
  @include m.breakpoint(lg) {
    --col-w: 100% ;
    > article {
      padding: 0 ;
      > img {
        width: 100% ;
      }
    }
  }
  @include m.breakpoint(md) {
    --col-w: 100% ;
    > article {
      padding: 0 ;
      > div.logo-cover {
        width: 100% ;
        margin: 0 0 0 0 ;
        padding: 0 ;
        > img {
          width: 100% ; height: auto ;
          display: block ;
          margin: 0 0 0 0 ;
        }
      }
      > img {
        width: 100% ; height: auto ;
        display: block ;
        margin: 0 0 0 0 ;
      }
      > div.contenido {
        width: 100% ;
        padding: 0 1.125rem ;
        > a.categoria {
          font-size: 1.125rem ;
          line-height: 1.125rem ;
        }
        h1 {
          font-size: 2rem ;
          line-height: 2.1rem ;
        }
        p {
          width: 100% ;
        }
      }
    }
    > div.btn-container {
      padding: 2.5rem 0 3.125rem 0 ;
    }
  }
}



